(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["demo"],{"097d":function(t,e,n){"use strict";var a=n("5ca1"),i=n("8378"),o=n("7726"),r=n("ebd6"),s=n("bcaa");a(a.P+a.R,"Promise",{finally:function(t){var e=r(this,i.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return s(e,t()).then((function(){return n}))}:t,n?function(n){return s(e,t()).then((function(){throw n}))}:t)}})},"0f83":function(t,e,n){},"2f89":function(t,e,n){"use strict";var a=n("f59f"),i=n.n(a);i.a},"36e1":function(t,e,n){"use strict";var a=n("0f83"),i=n.n(a);i.a},"3fdb":function(t,e,n){"use strict";var a=n("9a20"),i=n.n(a);i.a},"46a4":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"page-demo"},[n("Header",{attrs:{showRight:"",fixed:""},on:{"handle-left":t.goBack}}),n("div",{staticClass:"page-content header-fixed"},[n("h1",{staticStyle:{"text-align":"center"}},[t._v("刻度组件")]),n("div",{staticClass:"borrow-body"},[n("Scale",{attrs:{"scale-config":t.scaleConfig},model:{value:t.scaleValue,callback:function(e){t.scaleValue=e},expression:"scaleValue"}})],1)])],1)},i=[],o=n("a16a"),r=n("f76b"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{class:["component-header",{"is-fixed":t.fixed}]},[n("div",{staticClass:"component-header-left",on:{click:t.handleLeft}},[t.showLeft?t._t("header-left",[n("i",{staticClass:"iconfont iconRN-right"})]):t._e()],2),n("div",{staticClass:"component-header-middle"},[t._t("default",[n("p",{staticClass:"header-title"},[t._v(t._s(t.mainTitle))])])],2),n("div",{staticClass:"component-header-right",on:{click:t.handleRight}},[t.showRight?t._t("header-right",[n("i",{staticClass:"iconfont iconRN-gift-active"})]):t._e()],2)])},c=[],l={name:"BaseHeader",props:{title:{type:String,default:""},fixed:{type:Boolean,default:!1},showLeft:{type:Boolean,default:!1},showRight:{type:Boolean,default:!1}},data:function(){return{}},computed:{mainTitle:function(){return this.title||this.$route.meta&&this.$route.meta.title}},methods:{handleLeft:function(){this.$emit("handle-left")},handleRight:function(){this.$emit("handle-right")}}},h=l,u=(n("ec39"),n("2877")),d=Object(u["a"])(h,s,c,!1,null,null,null),f=d.exports,p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"scale-canvas"},[n("p",{staticClass:"borrow-title"},[t._v("刻度值")]),n("div",{staticClass:"borrow-num"},[n("span",{staticClass:"theme-num curval",on:{click:t.changeNum}},[t._v("\n      "+t._s(t.borrow_num)+"\n      "),n("i",{staticClass:"iconfont icon-contract"})])]),n("div",{staticClass:"canvas-body",attrs:{id:"newScale"}})])},g=[],_=(n("5fc6"),n("5af2")),m=n.n(_);n("4917"),n("c5f6");const v={height:50,start:1e3,end:1e4,unit:10,capacity:100,background:"#fff",midLineColor:"#087af7",scaleLineColor:"#999",openUnitChange:!0,sign:"@nowThen",fontColor:"#68ca68",fontSize:"16px SimSun, Songti SC"},w=window.devicePixelRatio,b=function(t,e,n,a){return n*((t=t/a-1)*t*t+1)+e};function y(t,e,n){this._id=`scale-${Math.random().toString(36).substring(2,9).toUpperCase()}`,this._container=t,this._config=Object.assign(v,e),this._callBack=n,this._canvas=document.createElement("canvas"),this._ctx=this._canvas.getContext("2d"),this._canvas._id=this._id,this._container.appendChild(this._canvas),this._canvas_bg=null,this._ctx_bg=null,this.current_def=0,this._ifError=!1}function C(t,e,n){const a=document.querySelector(t);if(!a)throw new Error("【scale】传入的「el」参数必须是有效的HTML容器节点！");"function"!==typeof n&&console.warn("【scale】传入的「callBack」参数不是有效的回调函数！");const i=new y(a,e,n);return i.$_init(),i}y.prototype.constructor=y,y.prototype.$_init=function(t){const{_config:e,_container:n,_canvas:a,_ctx:i}=this;this._ifError=!1,t&&(e=Object.assign(e,t)),e.height=Number(e.height),e.start=Number(e.start),e.end=Number(e.end),e.unit=Number(e.unit),e.capacity=Number(e.capacity),isNaN(e.height)&&(this._ifError=!0,console.error("【scale】传入的「options:height」参数必须是有效数字")),isNaN(e.start)&&(this._ifError=!0,console.error("【scale】传入的「options:start」参数必须是有效数字")),isNaN(e.end)&&(this._ifError=!0,console.error("【scale】传入的「options:end」参数必须是有效数字")),isNaN(e.unit)&&(this._ifError=!0,console.error("【scale】传入的「options:unit」参数必须是有效数字")),isNaN(e.capacity)&&(this._ifError=!0,console.error("【scale】传入的「options:capacity」参数必须是有效数字")),e.start>e.end&&(this._ifError=!0,console.error("【scale】传入的「options:end」参数值不能小于「options:end」参数值")),e.def?e.def<e.start?this.current_def=e.start-e.capacity:e.def>e.end&&(this.current_def=e.end+e.capacity):this.current_def=Math.floor(((e.end-e.start)/2+e.start)/e.capacity)*e.capacity;const{width:o}=n.getBoundingClientRect();if(e.width=Math.floor(o),e.height=Math.floor(e.height),a.style.width=`${e.width}px`,a.style.height=`${e.height}px`,a.width=w*e.width,a.height=w*e.height,i.scale(w,w),this._ifError)return i.beginPath(),i.font="12px Arial",i.fillStyle="red",i.textAlign="center",i.fillText("传入参数有误，渲染异常...",e.width/2,e.height/2),i.closePath(),void(i.fillStyle="transparent");this.$_drawScale(),this.$_drawSign(),this.$_drawMidLine(),this.$_addEvent()},y.prototype.$_drawScale=function(){const{_config:t,_ctx:e}=this,n=this._canvas_bg=document.createElement("canvas"),a=this._ctx_bg=n.getContext("2d");n.width=t.width*w,n.height=t.height*w,a.scale(w,w),console.log(this.current_def);let i=this.current_def-t.width/2*(t.capacity/t.unit),o=0,r=0;const s=Math.ceil((t.width+1)/t.unit),c=Math.ceil((t.end-t.start+1)/t.capacity);a.fillStyle=t.background||"transparent",a.fillRect(0,0,t.width,t.height),a.closePath(),a.beginPath(),a.moveTo(0,t.height),a.lineTo(t.width,t.height),a.strokeStyle=t.scaleLineColor||"#9E9E9E",a.lineWidth=1,a.stroke(),a.closePath();let l=Math.ceil(i/t.capacity)*t.capacity-i,h=l*(t.unit/t.capacity);for(let u=0;u<s;u++)if(r=(Math.ceil(i/t.capacity)+u)*t.capacity,!(r<t.start)){if(r>t.end)break;a.beginPath(),a.strokeStyle=t.scaleLineColor||"#9E9E9E",a.font=t.fontSize,a.fillStyle=t.fontColor,a.textAlign="center",a.shadowBlur=0,o=h+u*t.unit,r%(10*t.capacity)===0?(a.moveTo(o,1*t.height/2),a.strokeStyle=t.scaleLineColor||"#666",a.shadowColor="#9e9e9e",a.shadowBlur=1,a.fillText(r,o,1*t.height/3)):r%(5*t.capacity)===0?(a.moveTo(o,2*t.height/3),a.strokeStyle=t.scaleLineColor||"#888",c<=10&&(a.font="12px Helvetica, Tahoma, Arial",a.fillText(r,o,1*t.height/2))):a.moveTo(o,4*t.height/5),a.lineTo(o,t.height),a.stroke(),a.closePath()}e.drawImage(n,0,0,t.width*w,t.height*w,0,0,t.width,t.height)},y.prototype.$_drawMidLine=function(){const{_config:t,_ctx:e}=this,n=Math.floor(t.width/2);e.beginPath(),e.fillStyle=t.midLineColor||"#087af7",e.fillRect(n-1,0,2,t.height),e.stroke(),e.moveTo(n,8),e.lineTo(n-5,2),e.lineTo(n-5,0),e.lineTo(n+5,0),e.lineTo(n+5,2),e.fill(),e.moveTo(n,t.height-8),e.lineTo(n-5,t.height-2),e.lineTo(n-5,t.height),e.lineTo(n+5,t.height),e.lineTo(n+5,t.height-2),e.fill(),e.closePath()},y.prototype.$_drawSign=function(){const{_ctx:t,_config:e}=this;if(e.background){t.beginPath();const n=t.createLinearGradient(0,0,e.width,0);n.addColorStop(0,"rgba(255, 255, 255, 0.95)"),n.addColorStop(.45,"rgba(255, 255, 255, 0)"),n.addColorStop(.55,"rgba(255, 255, 255, 0)"),n.addColorStop(1,"rgba(255, 255, 255, 0.95)"),t.fillStyle=n,t.fillRect(0,0,e.width,e.height),t.closePath()}if(e.sign){t.beginPath(),t.font="10px Arial";const n=t.createLinearGradient(e.width,0,e.width-50,0);n.addColorStop(0,"rgba(255, 0, 0, 0.3)"),n.addColorStop(1,"rgba(0, 128, 0, 0.3)"),t.fillStyle=n,t.textAlign="right",t.fillText(e.sign,e.width-10,10),t.closePath(),t.fillStyle="transparent"}},y.prototype.$_addEvent=function(){let{_canvas:t,_config:e,$_moveDraw:n}=this,a=0,i=0,o=!1,r=0,s=0,c=0;const l=t=>{t.stopPropagation(),t.preventDefault(),o=!0,i=a=t.touches?t.touches[0].pageX:t.pageX,c=i,s=t.timeStamp||Date.now()},h=t=>{t.stopPropagation(),t.preventDefault();const a=t.touches?t.touches[0].pageX:t.pageX;if(o){const o=a-i;this.current_def=this.current_def-o*(e.capacity/e.unit),window.requestAnimationFrame(n.bind(this)),i=a;const r=t.timeStamp||Date.now();r-s>300&&(s=r,c=i)}},u=t=>{const n=t.changedTouches?t.changedTouches[0].pageX:t.pageX,a=t.timeStamp||Date.now(),i=-(n-c)/(a-s),l=()=>{this.current_def=b(h,r,e.capacity*i*50,u),this.current_def<e.start?this.current_def=e.start:this.current_def>e.end&&(this.current_def=e.end),e.openUnitChange&&(this.current_def=Math.round(this.current_def/e.capacity)*e.capacity),this.$_moveDraw(),h++,h<=u&&window.requestAnimationFrame(l)};o=!1;let h=0,u=15;Math.abs(i)>=.3?(r=this.current_def,l()):(this.current_def<e.start?this.current_def=e.start:this.current_def>e.end&&(this.current_def=e.end),e.openUnitChange&&(this.current_def=Math.round(this.current_def/e.capacity)*e.capacity),this.$_moveDraw())},d="ontouchstart"in window,f=d?"touchstart":"mousedown",p=d?"touchmove":"mousemove",g=d?"touchend":"mouseup";t.addEventListener(f,l),t.addEventListener(p,h),t.addEventListener(g,u)},y.prototype.$_moveDraw=function(){const{_ctx:t,_config:e}=this;if(t.clearRect(0,0,e.width,e.height),this.$_drawScale(),this.$_drawMidLine(),this.$_drawSign(),"function"!==typeof this._callBack)throw new Error("scale函数的第二个参数，必须为正确的回调函数！");this._callBack(Math.round(this.current_def))},y.prototype.update=function(t){this._point_x=(t-this._config.start)/this._config.capacity*this._config.unit,this.$_moveDraw()},y.prototype.resize=function(t){this.$_init(t)},y.prototype.clear=function(t){this._container&&this._canvas&&(this._container.removeChild(this._canvas),this._container=null,this._canvas=null)};var x={init:C},S={name:"Scale",components:{},props:{scaleConfig:{type:Object,default:function(){return{}}},value:{type:Number,default:0}},data:function(){return{borrow_num:this.value,tempValue:this.scaleConfig,showBox1:!1,inputNum:""}},watch:{scaleConfig:{handler:function(t,e){this.new.resize(t)},deep:!0},value:function(t){t!=this.borrow_num&&(this.borrow_num=t)},borrow_num:function(t){t!=this.value&&this.$emit("input",t)}},mounted:function(){var t=this;console.log(x),this.new=x.init("#newScale",{start:0,end:2e4},(function(e){console.log("vue的值",e),t.borrow_num=e})),window.addEventListener("resize",(function(){console.log("resize"),t.new.resize()}))},methods:{remove:function(){this.new.clear()},dataChange:function(t){this.borrow_num=t},changefocus:function(){var t=navigator.userAgent,e=(navigator.appVersion,t.indexOf("Android")>-1||t.indexOf("Linux")>-1);e&&setTimeout((function(){document.activeElement.scrollIntoViewIfNeeded(),document.activeElement.scrollIntoView()}),500)},changeBlur:function(){var t=navigator.userAgent,e=(navigator.appVersion,!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/));e&&setTimeout((function(){var t=document.documentElement.scrollTop||document.body.scrollTop||0;window.scrollTo(0,Math.max(t-1,0))}),200)},changeNum:function(){this.inputNum=this.borrow_num,this.showBox1=!0},confirmBg:function(){var t=Number(this.inputNum);this.inputNum&&!isNaN(this.inputNum)?t<this.scaleConfig.start||t>this.scaleConfig.end?m()("请输入不小于".concat(this.scaleConfig.start,"，且不大于").concat(this.scaleConfig.end,"的数字！")):this.$emit("input",Math.round(t)):m()("请输入有效数字！")}}},N=S,k=(n("36e1"),Object(u["a"])(N,p,g,!1,null,null,null)),$=k.exports;n("a481"),n("f751");function E(t){return void 0===t&&(t=document.body),!0===t?document.body:t instanceof window.Node?t:document.querySelector(t)}var D={inserted:function(t,e,n){var a=e.value;if("true"!==t.dataset.transfer)return!1;t.className=t.className?t.className+" v-transfer-dom":"v-transfer-dom";var i=t.parentNode;if(i){var o=document.createComment(""),r=!1;!1!==a&&(i.replaceChild(o,t),E(a).appendChild(t),r=!0),t.__transferDomData||(t.__transferDomData={parentNode:i,home:o,target:E(a),hasMovedOut:r})}},componentUpdated:function(t,e){var n=e.value;if("true"!==t.dataset.transfer)return!1;var a=t.__transferDomData;if(a){var i=a.parentNode,o=a.home,r=a.hasMovedOut;!r&&n?(i.replaceChild(o,t),E(n).appendChild(t),t.__transferDomData=Object.assign({},t.__transferDomData,{hasMovedOut:!0,target:E(n)})):r&&!1===n?(i.replaceChild(t,o),t.__transferDomData=Object.assign({},t.__transferDomData,{hasMovedOut:!1,target:E(n)})):n&&E(n).appendChild(t)}},unbind:function(t){if("true"!==t.dataset.transfer)return!1;t.className=t.className.replace("v-transfer-dom","");var e=t.__transferDomData;e&&(!0===t.__transferDomData.hasMovedOut&&t.__transferDomData.parentNode&&t.__transferDomData.parentNode.appendChild(t),t.__transferDomData=null)}},T=D,j={name:"page-demo",components:{MainButton:r["a"],Header:f,Scale:$},directives:{transferDom:T},filters:{formatDate:o["a"]},data:function(){return{scaleValue:null,scaleConfig:{start:2e3,end:5e4,capacity:100,linecolor:"#087af7",openUnitChange:!1}}},methods:{goBack:function(){}}},M=j,P=(n("3fdb"),Object(u["a"])(M,a,i,!1,null,null,null));e["default"]=P.exports},"759a":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("img",{attrs:{alt:"Vue logo",src:n("9d64")}}),a("HelloWorld",{attrs:{msg:"Welcome to Your Vue.js App"}})],1)},i=[],o=(n("96cf"),n("3b8d")),r=(n("097d"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hello"},[n("h1",[t._v(t._s(t.msg))]),t._m(0),n("h3",[t._v("Installed CLI Plugins")]),t._m(1),n("h3",[t._v("Essential Links")]),t._m(2),n("h3",[t._v("Ecosystem")]),t._m(3)])}),s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[t._v("\n    For a guide and recipes on how to configure / customize this project,"),n("br"),t._v("\n    check out the\n    "),n("a",{attrs:{href:"https://cli.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("vue-cli documentation")]),t._v(".\n  ")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",[n("li",[n("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-babel",target:"_blank",rel:"noopener"}},[t._v("babel")])]),n("li",[n("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-eslint",target:"_blank",rel:"noopener"}},[t._v("eslint")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",[n("li",[n("a",{attrs:{href:"https://vuejs.org",target:"_blank",rel:"noopener"}},[t._v("Core Docs")])]),n("li",[n("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("Forum")])]),n("li",[n("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("Community Chat")])]),n("li",[n("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank",rel:"noopener"}},[t._v("Twitter")])]),n("li",[n("a",{attrs:{href:"https://news.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("News")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",[n("li",[n("a",{attrs:{href:"https://router.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("vue-router")])]),n("li",[n("a",{attrs:{href:"https://vuex.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("vuex")])]),n("li",[n("a",{attrs:{href:"https://github.com/vuejs/vue-devtools#vue-devtools",target:"_blank",rel:"noopener"}},[t._v("vue-devtools")])]),n("li",[n("a",{attrs:{href:"https://vue-loader.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("vue-loader")])]),n("li",[n("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank",rel:"noopener"}},[t._v("awesome-vue")])])])}],c={name:"HelloWorld",props:{msg:String}},l=c,h=(n("2f89"),n("2877")),u=Object(h["a"])(l,r,s,!1,null,"a50943dc",null),d=u.exports,f={name:"page-vue-view",components:{HelloWorld:d},created:function(){},methods:{$_qryPageConfig:function(){var t=this;this.$services.qryPageConfig({method:"get",params:{page:"login"}}).then((function(e){t.pageConfig=e.data})).finally((function(){}))},$_order:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,this.$services.setPageConfig({prefix:"baidu",ifHandleError:!0,method:"post",headers:{"Content-Type":"application/json; charset=UTF-8"},data:{userId:this.idCard,userName:this.realName,color:"red"}});case 3:e=t.sent,this.loading=!1,e.data;case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},p=f,g=Object(h["a"])(p,a,i,!1,null,"052be12a",null);e["default"]=g.exports},"8a86":function(t,e,n){},"9a20":function(t,e,n){},"9d64":function(t,e,n){t.exports=n.p+"img/logo.82b9c7a5.png"},ec39:function(t,e,n){"use strict";var a=n("8a86"),i=n.n(a);i.a},f59f:function(t,e,n){}}]);
//# sourceMappingURL=demo.3622a1f9.js.map